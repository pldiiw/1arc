# What's CHIP-8?

## Introduction

CHIP-8 is an interpreted programming language. It is composed of a
set of 31 instructions, each acting either on data registers or the screen
display.

The data registers are the primary utility for manipulating values. In Chip-8,
you have 16 data register + 2 timer registers + 1 address-specific register:

 * Data registers:
   * `V0` through `VE` - Eight bits general purpose registers.
   * `VF` - Also a 1 byte register, but it is often modified by certain
     instructions to act as a flag.
 * Timers:
  * Delay timer - Its value will be decremented at a rate of 60Hz until it
    reaches `0x00`.
  * Sound timer - Similar to the delay timer, but when it is non-zero, a sound
    frequency is generated by the speaker. The minimum value at which it
    responds is `0x02`, setting the sound timer at `0x01` having no effect.
 * The `I` register - A 12 bits register dedicated to store memory addresses.

## Instructions

`N` is a hexadecimal digit.
`X` and `Y` represents arbitrary data registers.

### Arithmetic

 * `6XNN` - Store number `0xNN` in register `VX`
 * `8XY0` - Store the value of register `VY` in `VX`
 * `7XNN` - Add value `0xNN` to register `VX`
 * `8XY4` - Add value of register `VY` to `VX`. Set `VF` to `0x01` if carry
   occurs (i.e. the result is greater than 256), to `0x00` if it doesn't.
 * `8XY5` - Subtract `VY` from `VX`, setting `VF` to `0x00` if a borrow occurs,
   to `0x01` if it doesn't.
 * `8XY7` - Set `VX` to the value of `VY - VX`, setting `VF` to `0x00` if a
   borrow occurs, to `0x01` if it doesn't.

### Logic

 * `8XY1` - Set `VX` to `VX ∨ VY` (OR).
 * `8XY2` - Set `VX` to `VX ∧ VY` (AND).
 * `8XY3` - Set `VX` to `VX ⊻ VY` (XOR).
 * `8XY6` - Store the value of register `VY` shifted one bit to the right in
   register `VX`. Set `VF` to the least significant bit prior to the shift.
 * `8XYE` - Store the value of register `VY` shifted one bit to the left in
   register`VX`. Set `VF` to the most significant bit prior to the shift.

### Randomness

 * `CXNN` - Set `VX` to a pseudo-random number with a mask of `0xNN` (i.e. the
   drawn number goes through a logical AND with `0xNN` before being stored in
   `VX`).

### Jumps

 * `1NNN` - Jump to memory address `0xNNN` (i.e. continue program execution
   from this new address).
 * `BNNN` - Jump to address `0xNNN + V0`.

### Subroutines

 * `2NNN` - Execute subroutine starting at address `0xNNN`.
 * `00EE` - Return from a subroutine.
 * `0NNN` - Execute machine language subroutine at address `0xNNN` -
   **DEPRECATED**

### Conditional branching / Skips

 * `3XNN` - Skip the following instruction if `VX == 0xNN`.
 * `5XY0` - Skip the following instruction if `VX == VY`.
 * `4XNN` - Skip the following instruction if `VX != 0xNN`.
 * `9XY0` - Skip the following instruction if `VX != VY`.

### Timers

 * `FX15` - Set the delay timer to the value of register `VX`.
 * `FX07` - Store the current value of the delay timer in register `VX`.
 * `FX18` - Set the sound timer to the value of register `VX`.

### Keypad input

The CHIP-8 programming language can receive input from a sixteen key keypad
like so:

1 | 2 | 3 | C
4 | 5 | 6 | D
7 | 8 | 9 | E
A | 0 | B | F

 * `FX0A` - Halts program execution until a key is pressed and store the result
   in register `VX`.
 * `EX9E` - Skip the following instruction if the key value in register `VX` is
   being pressed.
 * `EXA1` - Skip the following instruction if the key value in register `VX` is
   not being pressed.

### The `I` register

 * `ANNN` - Store memory address `0xNNN` in register `I`.
 * `FX1E` - Add the value stored in register `VX` to register `I`.

### Memory storage

 * `FX55` - Store values of registers `V0` through `VX` inclusive in memory
   starting at address stored in register `I`. Register `I` is set to `I + 0xX
   + 1` afterwards.
 * `FX65` - Fill register `V0` through `VX` inclusive with the values stored in
   memory starting at address `I`. Register `I` is set to `I + 0xX + 1`
   afterwards.
 * `FX33` - Store the binary-coded decimal equivalent to the value of register
   `VX` at addresses `I`, `I+1` and `I+2`.

## Resources

Mastering CHIP-8 by Matthew Mikolay: http://mattmik.com/files/chip8/mastering/chip8.html
Cowgod's CHIP-8 Technical Reference v1.0: http://devernay.free.fr/hacks/chip8/C8TECH10.HTM
